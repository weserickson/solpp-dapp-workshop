(function(e){function t(t){for(var f,o,c=t[0],u=t[1],s=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e[f]=u[f]);i&&i(t);while(d.length)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],f=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(f=!1)}f&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var f={},r={app:0},a=[];function o(t){if(f[t])return f[t].exports;var n=f[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=f,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var f in e)o.d(n,f,function(t){return e[t]}.bind(null,f));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var i=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"065a":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return x}));var f=n("ade3"),r=n("1da1"),a=(n("d3b7"),n("25f0"),n("96cf"),n("3d29")),o=n("3cd7"),c=n("d63e"),u=n.n(c),s=n("c0d6"),i=new a["WS_RPC"]("wss://node-tokyo.vite.net/ws"),l=new o["ViteAPI"](i,(function(){console.log("client connected")})),d="wss://biforst.vite.net",b=new u.a({bridge:d}),p={binary:"6080604052695649544520544f4b454e6000806101000a81548169ffffffffffffffffffff021916908369ffffffffffffffffffff16021790555034801561004657600080fd5b50610493806100566000396000f3fe60806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632f3fd382146100515780634037367f1461007f575b600080fd5b61007d6004803603602081101561006757600080fd5b8101908080359060200190929190505050610105565b005b34801561008b57600080fd5b50610103600480360360208110156100a257600080fd5b81019080803590602001906401000000008111156100bf57600080fd5b8201836020820111156100d157600080fd5b803590602001918460018302840111640100000000831117156100f357600080fd5b9091929391929390505050610205565b005b6000809054906101000a900469ffffffffffffffffffff1669ffffffffffffffffffff164669ffffffffffffffffffff1614151561014257600080fd5b60003411151561015157600080fd5b3460016000838152602001908152602001600021600082825401925050819055503374ffffffffffffffffffffffffffffffffffffffffff167f77a53ba576f02bbcf9476a3c145b86a7d6bd6b21146c340e09b159930f009c2734836040518083815260200182815260200180602001828103825260078152602001807f46756e6465642100000000000000000000000000000000000000000000000000815250602001935050505060405180910390a250565b600082826040516020018083838082843780830192505050925050506040516020818303038152906040528051906020012190506000600160008381526020019081526020016000215411156103a4573374ffffffffffffffffffffffffffffffffffffffffff166000809054906101000a900469ffffffffffffffffffff1669ffffffffffffffffffff16600160008481526020019081526020016000215460405160405180820390838587f1505050503374ffffffffffffffffffffffffffffffffffffffffff167f79f767819a95ca6f5ca6b90c06017a10349ede086163fdef1a4d49bdcee7ebe3600160008481526020019081526020016000215485856040518084815260200180602001806020018381038352858582818152602001925080828437600081840152601f19601f820116905080830192505050838103825260088152602001807f436f7272656374210000000000000000000000000000000000000000000000008152506020019550505050505060405180910390a260006001600083815260200190815260200160002181905550610462565b3374ffffffffffffffffffffffffffffffffffffffffff167f5bea6350b0d83ca5aa5dbf85bc38ba2b36b90d9ab60ab92808a8ed80bc1e5f55600085856040518084815260200180602001806020018381038352858582818152602001925080828437600081840152601f19601f8201169050808301925050508381038252600a8152602001807f54727920616761696e21000000000000000000000000000000000000000000008152506020019550505050505060405180910390a25b50505056fea165627a7a723058205b6072e54205a3f3624764a5e9538c146555339be7091d86861703a2eec051000029",abi:[{constant:!1,inputs:[{name:"hashval",type:"bytes32"}],name:"Fund",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"body",type:"string"}],name:"Guess",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"hashval",type:"bytes32"},{indexed:!1,name:"log",type:"string"}],name:"Funded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"guess",type:"string"},{indexed:!1,name:"log",type:"string"}],name:"Awarded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"guess",type:"string"},{indexed:!1,name:"log",type:"string"}],name:"Failed",type:"event"}],offChain:"608060405260043610600f57600f565b00fea165627a7a723058205b6072e54205a3f3624764a5e9538c146555339be7091d86861703a2eec051000029",address:"vite_9c2568f00a05b381136ff2f790925e9d6c1a6ca011d0f40b04"};function m(){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,f,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),f=0;f<t;f++)n[f]=r[f];console.log(n),b.sendCustomRequest({method:"vite_signAndSendTx",params:n}).then((function(e){return console.log(e)}),(function(e){return console.error(e)}));case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function h(e,t,n){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,f){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["accountBlock"].createAccountBlock("callContract",{address:s["a"].address,abi:p.abi,toAddress:p.address,params:n,methodName:t,amount:String(f)});case 2:return r=e.sent,a=r.accountBlock,console.log(a),e.next=7,m({block:a,abi:p.abi});case 7:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function y(e,t){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f=o["utils"].blake2bHex(t,!1,32),console.log(f),e.next=4,h("Fund",[f],n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h("Guess",[t],"0");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function x(e,t){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark((function t(n,r){var a,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=p.address,c={addressHeightRange:Object(f["a"])({},a,{fromHeight:"0",toHeight:"0"})},t.next=4,l.subscribe("createVmlogSubscription",c);case 4:return u=t.sent,u.callback=function(t){var f=o["abi"].encodeLogSignature(p.abi,n);if(f===t[0]["vmlog"]["topics"][0]){var a=e.from(t[0]["vmlog"]["data"],"base64").toString("hex"),c=o["abi"].decodeLog(p.abi,a,f,n);r(c)}},console.log("subscribe success",{eventName:n}),t.abrupt("return",u);case 8:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}b.createSession().then((function(){s["a"].uri=b.uri,console.log("connect uri",b.uri),s["a"].state="waiting"})),b.on("connect",(function(e,t){var n=t.params[0].accounts;if(!n||!n[0])throw new Error("address is null");var f=n[0];console.log(f),s["a"].address=f,s["a"].state="connected"})),b.on("disconnect",(function(e){console.log(e),s["a"].state="disconnected"}))}).call(this,n("b639").Buffer)},"41ae":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var f=n("7a23"),r=n("cf05"),a=n.n(r),o=Object(f["g"])("img",{alt:"Vue logo",src:a.a},null,-1),c=Object(f["g"])("hr",{width:"25%"},null,-1),u=Object(f["g"])("br",null,null,-1);function s(e,t,n,r,a,s){var i=Object(f["o"])("ToastNotify"),l=Object(f["o"])("ViteConnectBox"),d=Object(f["o"])("FundForm"),b=Object(f["o"])("GuessForm");return Object(f["l"])(),Object(f["f"])(f["a"],null,[o,c,Object(f["i"])(i),Object(f["i"])(l),Object(f["i"])(d),u,Object(f["i"])(b)],64)}function i(e,t,n,f,r,a){return null}var l={name:"ToastNotify",props:{},mounted:function(){var e=this;console.log(this.$store),this.$store.data=5;var t=function(t){e.$toast.success(t.log+" "+t["2"],{position:"top",duration:1e4})},n=function(t){e.$toast.error(t.log+" "+t["2"],{position:"top",duration:1e4})};this.$methods.subscribeToEvent("Funded",t),this.$methods.subscribeToEvent("Awarded",t),this.$methods.subscribeToEvent("Failed",n)}};l.render=i;var d=l,b={class:"hello"},p=Object(f["g"])("br",null,null,-1),m={key:1},g=Object(f["h"])(" To submit a guess, scan the QR code using your Vite Wallet. "),h=Object(f["g"])("br",null,null,-1),O=Object(f["h"])(" Download the Vite Wallet at "),y=Object(f["g"])("a",{href:"https://app.vite.net/"},"app.vite.net",-1),j=Object(f["h"])(". "),v=[g,h,O,y,j],w=Object(f["g"])("br",null,null,-1);function x(e,t,n,r,a,o){var c=Object(f["o"])("QRBox");return Object(f["l"])(),Object(f["f"])("div",b,[Object(f["h"])(" ViteConnectBox: "+Object(f["p"])(this.$store.state)+" ",1),p,o.connected?Object(f["e"])("",!0):(Object(f["l"])(),Object(f["d"])(c,{key:0,qrdata:o.uri},null,8,["qrdata"])),o.connected?Object(f["e"])("",!0):(Object(f["l"])(),Object(f["f"])("span",m,v)),w])}var k=["innerHTML"];function F(e,t,n,r,a,o){return Object(f["l"])(),Object(f["f"])("div",{innerHTML:o.imgtag},null,8,k)}var R=n("e0d3"),$=n.n(R),S={name:"QRBox",props:{qrdata:String},computed:{imgtag:function(){if("undefined"!==typeof this.qrdata){var e=0,t="M",n=4,f=$()(e,t);return f.addData(this.qrdata),f.make(),f.createImgTag(n)}return"QR loading"}}};S.render=F;var T=S,V={name:"ViteConnectBox",components:{QRBox:T},computed:{connected:function(){return"connected"==this.$store.state},uri:function(){return console.log(this.$store.uri),this.$store.uri}},props:{msg:String}};V.render=x;var A=V,B={key:0},P=Object(f["g"])("b",null,"Funding Form",-1),_=Object(f["g"])("br",null,null,-1),C=Object(f["g"])("label",null,"Answer: ",-1),q=Object(f["g"])("br",null,null,-1),M=Object(f["g"])("label",null,"Awards: ",-1),G=Object(f["g"])("br",null,null,-1);function H(e,t,n,r,a,o){return o.owner?(Object(f["l"])(),Object(f["f"])("div",B,[P,_,C,Object(f["t"])(Object(f["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.answer=t})},null,512),[[f["q"],e.answer]]),q,M,Object(f["t"])(Object(f["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.amount=t})},null,512),[[f["q"],e.amount]]),G,Object(f["g"])("button",{onClick:t[2]||(t[2]=function(){return o.submit&&o.submit.apply(o,arguments)})},"Submit")])):Object(f["e"])("",!0)}var E={name:"FundForm",computed:{owner:function(){return console.log(this.$store.address),"vite_ad43000f81aee4468387854e20a8c53e2c9027b8655ad2de6c"===this.$store.address}},methods:{submit:function(){console.log(this.amount),console.log(this.answer),this.$methods.callFund(this.answer,this.amount)}}};E.render=H;var N=E,Q=Object(f["g"])("b",null,"Guess Form",-1),L=Object(f["g"])("br",null,null,-1),U=Object(f["g"])("label",null,"Answer: ",-1),W=Object(f["h"])("  ");function D(e,t,n,r,a,o){return Object(f["l"])(),Object(f["f"])("div",null,[Q,L,U,Object(f["t"])(Object(f["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.answer=t})},null,512),[[f["q"],e.answer]]),W,Object(f["g"])("button",{onClick:t[1]||(t[1]=function(){return o.submit&&o.submit.apply(o,arguments)})},"Submit")])}var I={name:"GuessForm",props:{},methods:{submit:function(){console.log(this.answer),this.$methods.callGuess(this.answer)}}};I.render=D;var J=I,z={name:"App",components:{ToastNotify:d,ViteConnectBox:A,FundForm:N,GuessForm:J}};n("db60");z.render=s;var K=z,X=n("af56"),Y=n("c0d6"),Z=n("065a"),ee=Object(f["c"])(K).use(Y["a"]);ee.config.globalProperties.$store=Y["a"],ee.config.globalProperties.$methods={callFund:Z["a"],callGuess:Z["b"],subscribeToEvent:Z["c"]},ee.use(X["a"]),ee.mount("#app")},c0d6:function(e,t,n){"use strict";var f=n("7a23"),r=Object(f["m"])({connected:!1,address:"vite_"});t["a"]=r},cf05:function(e,t,n){e.exports=n.p+"img/logo.ea3f0fc2.png"},db60:function(e,t,n){"use strict";n("41ae")}});
//# sourceMappingURL=app.ee4b4310.js.map