(function(e){function t(t){for(var f,o,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(f in i)Object.prototype.hasOwnProperty.call(i,f)&&(e[f]=i[f]);s&&s(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],f=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(f=!1)}f&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var f={},r={app:0},a=[];function o(t){if(f[t])return f[t].exports;var n=f[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=f,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var f in e)o.d(n,f,function(t){return e[t]}.bind(null,f));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"065a":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return R}));var f=n("ade3"),r=n("1da1"),a=(n("d3b7"),n("25f0"),n("96cf"),n("3d29")),o=n.n(a),c=n("3cd7"),i=n("d63e"),u=n.n(i),s=n("c0d6"),l={binary:"6080604052695649544520544f4b454e6000806101000a81548169ffffffffffffffffffff021916908369ffffffffffffffffffff16021790555034801561004657600080fd5b50610493806100566000396000f3fe60806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632f3fd382146100515780634037367f1461007f575b600080fd5b61007d6004803603602081101561006757600080fd5b8101908080359060200190929190505050610105565b005b34801561008b57600080fd5b50610103600480360360208110156100a257600080fd5b81019080803590602001906401000000008111156100bf57600080fd5b8201836020820111156100d157600080fd5b803590602001918460018302840111640100000000831117156100f357600080fd5b9091929391929390505050610205565b005b6000809054906101000a900469ffffffffffffffffffff1669ffffffffffffffffffff164669ffffffffffffffffffff1614151561014257600080fd5b60003411151561015157600080fd5b3460016000838152602001908152602001600021600082825401925050819055503374ffffffffffffffffffffffffffffffffffffffffff167f77a53ba576f02bbcf9476a3c145b86a7d6bd6b21146c340e09b159930f009c2734836040518083815260200182815260200180602001828103825260078152602001807f46756e6465642100000000000000000000000000000000000000000000000000815250602001935050505060405180910390a250565b600082826040516020018083838082843780830192505050925050506040516020818303038152906040528051906020012190506000600160008381526020019081526020016000215411156103a4573374ffffffffffffffffffffffffffffffffffffffffff166000809054906101000a900469ffffffffffffffffffff1669ffffffffffffffffffff16600160008481526020019081526020016000215460405160405180820390838587f1505050503374ffffffffffffffffffffffffffffffffffffffffff167f79f767819a95ca6f5ca6b90c06017a10349ede086163fdef1a4d49bdcee7ebe3600160008481526020019081526020016000215485856040518084815260200180602001806020018381038352858582818152602001925080828437600081840152601f19601f820116905080830192505050838103825260088152602001807f436f7272656374210000000000000000000000000000000000000000000000008152506020019550505050505060405180910390a260006001600083815260200190815260200160002181905550610462565b3374ffffffffffffffffffffffffffffffffffffffffff167f5bea6350b0d83ca5aa5dbf85bc38ba2b36b90d9ab60ab92808a8ed80bc1e5f55600085856040518084815260200180602001806020018381038352858582818152602001925080828437600081840152601f19601f8201169050808301925050508381038252600a8152602001807f54727920616761696e21000000000000000000000000000000000000000000008152506020019550505050505060405180910390a25b50505056fea165627a7a723058205b6072e54205a3f3624764a5e9538c146555339be7091d86861703a2eec051000029",abi:[{constant:!1,inputs:[{name:"hashval",type:"bytes32"}],name:"Fund",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"body",type:"string"}],name:"Guess",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"hashval",type:"bytes32"},{indexed:!1,name:"log",type:"string"}],name:"Funded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"guess",type:"string"},{indexed:!1,name:"log",type:"string"}],name:"Awarded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"guess",type:"string"},{indexed:!1,name:"log",type:"string"}],name:"Failed",type:"event"}],offChain:"608060405260043610600f57600f565b00fea165627a7a723058205b6072e54205a3f3624764a5e9538c146555339be7091d86861703a2eec051000029",address:"vite_9c2568f00a05b381136ff2f790925e9d6c1a6ca011d0f40b04"},d="wss://node-tokyo.vite.net/ws",b=6e4,p={retryTimes:10,retryInterval:5e3},g=new o.a(d,b,p),m=new c["ViteAPI"](g,(function(){console.log("client connected")})),h="wss://biforst.vite.net",y=null;function O(){y=new u.a({bridge:h}),y.createSession().then((function(){s["a"].uri=y.uri,console.log("connect uri",y.uri),s["a"].state="waiting"})),y.on("connect",(function(e,t){var n=t.params[0].accounts;if(!n||!n[0])throw new Error("address is null");var f=n[0];console.log(f),s["a"].address=f,s["a"].state="connected"})),y.on("disconnect",(function(e){console.log(e),s["a"].state="disconnected",setTimeout(O,2e3),y.destroy()}))}function j(){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,f,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),f=0;f<t;f++)n[f]=r[f];console.log(n),y.sendCustomRequest({method:"vite_signAndSendTx",params:n}).then((function(e){return console.log(e)}),(function(e){return console.error(e)})).catch((function(e){throw console.warn(e),e}));case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function w(e,t,n){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,f){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["accountBlock"].createAccountBlock("callContract",{address:s["a"].address,abi:l.abi,toAddress:l.address,params:n,methodName:t,amount:String(f)});case 2:return r=e.sent,a=r.accountBlock,console.log("SENDING BLOCK:",a),e.next=7,j({block:a,abi:l.abi});case 7:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function k(e,t){return F.apply(this,arguments)}function F(){return F=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f=c["utils"].blake2bHex(t,!1,32),console.log("FUNDING:",f),e.next=4,w("Fund",[f],n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function S(e){return $.apply(this,arguments)}function $(){return $=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("GUESSING:",t),e.next=3,w("Guess",[t],"0");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function R(e,t){return T.apply(this,arguments)}function T(){return T=Object(r["a"])(regeneratorRuntime.mark((function t(n,r){var a,o,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=l.address,o=c["abi"].encodeLogSignature(l.abi,n),i={addressHeightRange:Object(f["a"])({},a,{fromHeight:"0",toHeight:"0"}),topics:[[o]]},t.next=5,m.subscribe("createVmlogSubscription",i);case 5:u=t.sent,u.callback=function(t){console.log("EVENT:",t);var f=e.from(t[0]["vmlog"]["data"],"base64").toString("hex"),a=c["abi"].decodeLog(l.abi,f,o,n);r(a)},console.log("SUBSCRIBED:",n);case 8:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}O()}).call(this,n("b639").Buffer)},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var f=n("7a23"),r=n("cf05"),a=n.n(r),o=Object(f["g"])("img",{alt:"Vue logo",src:a.a},null,-1),c=Object(f["g"])("div",null,[Object(f["g"])("b",null,"Earn Vite by guessing a secret!")],-1),i=Object(f["g"])("hr",{width:"25%"},null,-1),u=Object(f["g"])("hr",{width:"25%"},null,-1),s=Object(f["g"])("br",null,null,-1);function l(e,t,n,r,a,l){var d=Object(f["o"])("ToastNotify"),b=Object(f["o"])("ViteConnectBox"),p=Object(f["o"])("FundForm"),g=Object(f["o"])("GuessForm");return Object(f["l"])(),Object(f["f"])(f["a"],null,[Object(f["i"])(d),o,c,i,Object(f["i"])(b),u,Object(f["i"])(p),s,Object(f["i"])(g)],64)}function d(e,t,n,f,r,a){return null}var b={name:"ToastNotify",props:{},mounted:function(){var e=this;console.log(this.$store),this.$store.data=5;var t=function(t){e.$toast.success(t.log+" "+t["2"],{position:"top",duration:1e4})},n=function(t){e.$toast.error(t.log+" "+t["2"],{position:"top",duration:1e4})};this.$methods.subscribeToEvent("Funded",t),this.$methods.subscribeToEvent("Awarded",t),this.$methods.subscribeToEvent("Failed",n)}};b.render=d;var p=b,g={class:"hello"},m=Object(f["g"])("br",null,null,-1),h={key:1},y=Object(f["h"])(" To submit a guess, scan the QR code using your Vite Wallet. "),O=Object(f["g"])("br",null,null,-1),j=Object(f["h"])(" Download the Vite Wallet at "),v=Object(f["g"])("a",{href:"https://app.vite.net/"},"app.vite.net",-1),w=Object(f["h"])(". "),x=[y,O,j,v,w];function k(e,t,n,r,a,o){var c=Object(f["o"])("QRBox");return Object(f["l"])(),Object(f["f"])("div",g,[Object(f["h"])(" ViteConnect: "+Object(f["p"])(this.$store.state)+" ",1),m,o.waiting?(Object(f["l"])(),Object(f["d"])(c,{key:0,qrdata:o.uri},null,8,["qrdata"])):Object(f["e"])("",!0),o.waiting?(Object(f["l"])(),Object(f["f"])("span",h,x)):Object(f["e"])("",!0)])}var F=["innerHTML"];function S(e,t,n,r,a,o){return Object(f["l"])(),Object(f["f"])("div",{innerHTML:o.imgtag},null,8,F)}var $=n("e0d3"),R=n.n($),T={name:"QRBox",props:{qrdata:String},computed:{imgtag:function(){if("undefined"!==typeof this.qrdata){var e=0,t="M",n=4,f=R()(e,t);return f.addData(this.qrdata),f.make(),f.createImgTag(n)}return"QR loading"}}};T.render=S;var V=T,_={name:"ViteConnectBox",components:{QRBox:V},computed:{waiting:function(){return"waiting"==this.$store.state},uri:function(){return console.log(this.$store.uri),this.$store.uri}},props:{msg:String}};_.render=k;var B=_,G={key:0},A=Object(f["g"])("b",null,"Funding Form",-1),C=Object(f["g"])("br",null,null,-1),E=Object(f["g"])("label",null,"Answer: ",-1),N=Object(f["g"])("br",null,null,-1),P=Object(f["g"])("label",null,"Awards: ",-1),q=Object(f["g"])("br",null,null,-1);function M(e,t,n,r,a,o){return o.owner&&o.connected?(Object(f["l"])(),Object(f["f"])("div",G,[A,C,E,Object(f["t"])(Object(f["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.answer=t})},null,512),[[f["q"],e.answer]]),N,P,Object(f["t"])(Object(f["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.amount=t})},null,512),[[f["q"],e.amount]]),q,Object(f["g"])("button",{onClick:t[2]||(t[2]=function(){return o.submit&&o.submit.apply(o,arguments)})},"Submit")])):Object(f["e"])("",!0)}var I={name:"FundForm",computed:{owner:function(){return console.log(this.$store.address),this.$store.address===this.$store.contract_owner},connected:function(){return"connected"==this.$store.state}},methods:{submit:function(){console.log(this.amount),console.log(this.answer),this.$methods.callFund(this.answer,this.amount)}}};I.render=M;var H=I,U={key:0},D=Object(f["g"])("b",null,"Guess Form",-1),L=Object(f["g"])("br",null,null,-1),Q=Object(f["g"])("label",null,"Answer: ",-1),J=Object(f["h"])("Â  ");function W(e,t,n,r,a,o){return o.connected?(Object(f["l"])(),Object(f["f"])("div",U,[D,L,Q,Object(f["t"])(Object(f["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.answer=t})},null,512),[[f["q"],e.answer]]),J,Object(f["g"])("button",{onClick:t[1]||(t[1]=function(){return o.submit&&o.submit.apply(o,arguments)})},"Submit")])):Object(f["e"])("",!0)}var z={name:"GuessForm",props:{},computed:{connected:function(){return"connected"==this.$store.state}},methods:{submit:function(){console.log(this.answer),this.$methods.callGuess(this.answer)}}};z.render=W;var K=z,X={name:"App",components:{ToastNotify:p,ViteConnectBox:B,FundForm:H,GuessForm:K}};n("dc01");X.render=l;var Y=X,Z=n("af56"),ee=n("c0d6"),te=n("065a"),ne=Object(f["c"])(Y).use(ee["a"]);ne.config.globalProperties.$store=ee["a"],ne.config.globalProperties.$methods={callFund:te["a"],callGuess:te["b"],subscribeToEvent:te["c"]},ne.use(Z["a"]),ne.mount("#app")},c0d6:function(e,t,n){"use strict";var f=n("7a23"),r=Object(f["m"])({connected:"vc_not_initialized",address:"vite_placeholder",contract_owner:"vite_ad43000f81aee4468387854e20a8c53e2c9027b8655ad2de6c"});t["a"]=r},cf05:function(e,t,n){e.exports=n.p+"img/logo.ea3f0fc2.png"},d8fe:function(e,t,n){},dc01:function(e,t,n){"use strict";n("d8fe")}});
//# sourceMappingURL=app.37435c4f.js.map